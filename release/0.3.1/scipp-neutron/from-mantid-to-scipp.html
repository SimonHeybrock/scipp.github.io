

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>From Mantid to Scipp &mdash; scipp  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Instrument view" href="instrument-view.html" />
    <link rel="prev" title="scipp.neutron.diffraction.convert_with_calibration" href="../generated/scipp.neutron.diffraction.convert_with_calibration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo-large-v4.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/quick-start.html">Quick start</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/data-structures.html">Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/slicing.html">Slicing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/computation.html">Computation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/masking.html">Masking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/event-data.html">Event data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/groupby.html">GroupBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/how_to.html">How to…</a></li>
</ul>
<p class="caption"><span class="caption-text">Visualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../visualization/representations-and-tables.html">Representations and Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/plotting-overview.html">Plotting Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/plotting-in-depth.html">Advanced plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/customizing-figures.html">Customizing figures</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/introduction.html">1-D datasets and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/multi-d-datasets.html">Multi-dimensional datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/neutron-diffraction.html">Neutron Data Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/neutron-data.html">Neutron Data</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python-reference/api.html">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-reference/api.html#free-functions">Free functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-reference/dtype.html">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-reference/units.html">Physical units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-reference/error-propagation.html">Propagation of uncertainties</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-reference/runtime-configuration.html">Runtime Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Neutron-scattering</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview: scipp.neutron</a></li>
<li class="toctree-l1"><a class="reference internal" href="groupby.html">GroupBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffraction.html">Diffraction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">From Mantid to Scipp</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Data-types">Data types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Workspaces">Workspaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Other">Other</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Concepts">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Algorithms">Algorithms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notes-1">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Generic-algorithms">Generic algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#CloneWorkspace">CloneWorkspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#DeleteWorkspace">DeleteWorkspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ExtractSingleSpectrum">ExtractSingleSpectrum</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ExtractSpectra-/-CropWorkspace">ExtractSpectra / CropWorkspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Transpose">Transpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#AppendSpectra">AppendSpectra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ConjoinXRuns">ConjoinXRuns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ConjoinSpectra">ConjoinSpectra</a></li>
<li class="toctree-l4"><a class="reference internal" href="#GroupWorkspaces">GroupWorkspaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Rebin-Workspace2D-into-Workspace2D">Rebin <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code> into <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#Rebin-EventWorkspace-preserving-events">Rebin <code class="docutils literal notranslate"><span class="pre">EventWorkspace</span></code> preserving events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Rebin-EventWorkspace-into-Workspace2D">Rebin <code class="docutils literal notranslate"><span class="pre">EventWorkspace</span></code> into <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#Rebin-with-logarithmic-bins">Rebin with logarithmic bins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Scale-(multiplication)">Scale (multiplication)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Scale-(addition)">Scale (addition)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ScaleX">ScaleX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#SumSpectra">SumSpectra</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Neutron-scattering-specific-algorithms">Neutron-scattering specific algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ConvertUnits">ConvertUnits</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="instrument-view.html">Instrument view</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/customizing.html">Customizing Scipp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/how-to.html">How To…</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/tooling.html">Tooling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/transform.html">Transforming data with custom operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/constructing_variables.html">C++ API for constructing variables</a></li>
</ul>
<p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/release-notes.html">Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">scipp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>From Mantid to Scipp</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/scipp-neutron/from-mantid-to-scipp.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<p><a class="reference external" href="https://raw.githubusercontent.com/scipp/scipp/master/docs/scipp-neutron/from-mantid-to-scipp.ipynb">Download this Jupyter notebook</a></p>
<hr class="docutils" />
<div class="section" id="From-Mantid-to-Scipp">
<h1>From Mantid to Scipp<a class="headerlink" href="#From-Mantid-to-Scipp" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Data-types">
<h2>Data types<a class="headerlink" href="#Data-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Workspaces">
<h3>Workspaces<a class="headerlink" href="#Workspaces" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mantid</p></th>
<th class="head"><p>Scipp</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DataArray</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EventWorkspace</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DataArray</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WorkspaceSingleValue</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DataArray</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">MDHistoWorkspace</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DataArray</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MDEventWorkspace</span></code></p></td>
<td><p>not supported</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TableWorkspace</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Dataset</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WorkspaceGroup</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Dataset</span></code> (aligned dimensions), otherwise Python <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">dict</span></code></p></td>
</tr>
</tbody>
</table>
<div class="section" id="Notes">
<h4>Notes<a class="headerlink" href="#Notes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>In many cases it may be desirable to use <code class="docutils literal notranslate"><span class="pre">Dataset</span></code> instead of <code class="docutils literal notranslate"><span class="pre">DataArray</span></code>.</p></li>
<li><p>Scipp (or rather conversion to scipp) is currently still incomplete and does not carry over all information from a workspace.</p></li>
</ul>
</div>
</div>
<div class="section" id="Other">
<h3>Other<a class="headerlink" href="#Other" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 59%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mantid</p></th>
<th class="head"><p>Scipp</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DetectorInfo</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Dataset</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="Concepts">
<h2>Concepts<a class="headerlink" href="#Concepts" title="Permalink to this headline">¶</a></h2>
<p>Mantid’s <code class="docutils literal notranslate"><span class="pre">MatrixWorkspace</span></code> (the common base class of <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code> and <code class="docutils literal notranslate"><span class="pre">EventWorkspace</span></code>) uses the terms “X”, “Y”, and “E” to refer to one of its axes, the data values, and the uncertainties.</p>
<ul class="simple">
<li><p>Mantid stores <strong>standard-deviations</strong> in “E”, whereas scipp stores <strong>variances</strong>.</p></li>
<li><p>Typically Mantid’s “X” is the coordinate axis for the time-of-flight dimension, or the dimension derived from it.</p></li>
<li><p>Mantid’s “Y” is not the axis for the second dimension, but the <strong>data</strong>.</p></li>
<li><p>Mantid’s “X”, “Y”, and “E” are 1-D arrays of 1-D arrays, whereas scipp stores 2-D (or higher) arrays, if applicable.</p></li>
</ul>
<p>We have the following “equivalence”:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 33%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mantid</p></th>
<th class="head"><p>Scipp</p></th>
<th class="head"><p>comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ws.readY(i)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data.values</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ws.readE(i)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data.variances</span></code></p></td>
<td><p>square former, or <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> latter</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ws.readX(i)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data.coords['tof'].values</span></code></p></td>
<td><p>dimension label may vary</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ws.getAxis(0).getUnit()</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data.coords['tof'].unit</span></code></p></td>
<td><p>dimension label may vary</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ws.getAxis(1)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data.coords['spectrum']</span></code></p></td>
<td><p>dimension label may vary</p></td>
</tr>
</tbody>
</table>
<p>Here <code class="docutils literal notranslate"><span class="pre">i</span></code> is the index along the second axis (axis index <code class="docutils literal notranslate"><span class="pre">1</span></code>). Mantid’s <code class="docutils literal notranslate"><span class="pre">readX</span></code>, <code class="docutils literal notranslate"><span class="pre">readY</span></code>, and <code class="docutils literal notranslate"><span class="pre">readE</span></code> always return 1-D arrays, whereas the <code class="docutils literal notranslate"><span class="pre">values</span></code> and <code class="docutils literal notranslate"><span class="pre">variances</span></code> properties in scipp return a multi-dimensional array. That is, there is no actual equivalence.</p>
</div>
<div class="section" id="Algorithms">
<h2>Algorithms<a class="headerlink" href="#Algorithms" title="Permalink to this headline">¶</a></h2>
<div class="section" id="notes-1">
<span id="id1"></span><h3>Notes<a class="headerlink" href="#notes-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>In <strong>Mantid</strong> a Python variable referencing <strong>a workspace is</strong> under the hood <strong>a global variable</strong>. Unless specified otherwise the variable name is the name of the workspace in the <a class="reference external" href="https://docs.mantidproject.org/nightly/concepts/AnalysisDataService.html">AnalysisDataService</a>. For marginally more clarity, the examples in the following therefore use the string-based syntax for specifying output workspaces. <em>In scipp there is no such limitation and everything behaves just like normal
variables in Python.</em></p></li>
<li><p>Unless stated otherwise, the following code examples assume datasets or data arrays have <code class="docutils literal notranslate"><span class="pre">'tof'</span></code> for what Mantid calls “X” and <code class="docutils literal notranslate"><span class="pre">'spectrum'</span></code> why Mantid calls “Y” or “spectrum axis”.</p></li>
<li><p>There is no strict 1:1 equivalence between Mantid workspaces and functionality in scipp. The examples below give the most common examples, but in many cases exceptions apply and detailed behavior may differ. If in doubt, consult the Mantid algorithm documentation and the scipp documentation.</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">mantid.simpleapi</span> <span class="k">as</span> <span class="nn">mantid</span>
<span class="kn">import</span> <span class="nn">scipp</span> <span class="k">as</span> <span class="nn">sc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Generic-algorithms">
<h3>Generic algorithms<a class="headerlink" href="#Generic-algorithms" title="Permalink to this headline">¶</a></h3>
<div class="section" id="CloneWorkspace">
<h4>CloneWorkspace<a class="headerlink" href="#CloneWorkspace" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">CloneWorkspace</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;copy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">copy</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="DeleteWorkspace">
<h4>DeleteWorkspace<a class="headerlink" href="#DeleteWorkspace" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">DeleteWorkspace</span><span class="p">(</span><span class="n">Workspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">del</span> <span class="n">data</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ExtractSingleSpectrum">
<h4>ExtractSingleSpectrum<a class="headerlink" href="#ExtractSingleSpectrum" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">ExtractSingleSpectrum</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;spec&#39;</span><span class="p">,</span>
    <span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;spectrum&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>If an actual <em>copy</em> is required use:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">spec</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;spectrum&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ExtractSpectra-/-CropWorkspace">
<h4>ExtractSpectra / CropWorkspace<a class="headerlink" href="#ExtractSpectra-/-CropWorkspace" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">ExtractSpectra</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;spectra&#39;</span><span class="p">,</span>
    <span class="n">StartWorkspaceIndex</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">88</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">spectra</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;spectrum&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span><span class="mi">89</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>If an actual <em>copy</em> is required use:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">spectra</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;spectrum&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span><span class="mi">89</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Transpose">
<h4>Transpose<a class="headerlink" href="#Transpose" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Transpose</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp: Transposing is <em>implicit</em> and automatic based on dimension labels and not required for any of the common operations, including plotting.</p>
</div>
<div class="section" id="AppendSpectra">
<h4>AppendSpectra<a class="headerlink" href="#AppendSpectra" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">AppendSpectra</span><span class="p">(</span>
    <span class="n">InputWorkspace1</span><span class="o">=</span><span class="s1">&#39;data1&#39;</span><span class="p">,</span>
    <span class="n">InputWorkspace2</span><span class="o">=</span><span class="s1">&#39;data2&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ConjoinXRuns">
<h4>ConjoinXRuns<a class="headerlink" href="#ConjoinXRuns" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">ConjoinXRuns</span><span class="p">(</span>
    <span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;data1,data2&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="s1">&#39;tof&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ConjoinSpectra">
<h4>ConjoinSpectra<a class="headerlink" href="#ConjoinSpectra" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">ConjoinSpectra</span><span class="p">(</span>
    <span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;ws1,ws2&#39;</span><span class="p">,</span>
    <span class="n">OutWorkspace</span><span class="o">=</span><span class="s1">&#39;spec_vs_temperature&#39;</span>
    <span class="n">WorkspaceIndex</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">LabelUsing</span><span class="o">=</span><span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
    <span class="n">LabelValue</span><span class="o">=</span><span class="s2">&quot;Mean&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
<span class="n">sample_temperature</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;sample&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span>
<span class="n">data</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sample_temperature</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="n">spec_vs_temperature</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="GroupWorkspaces">
<h4>GroupWorkspaces<a class="headerlink" href="#GroupWorkspaces" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">GroupWorkspaces</span><span class="p">(</span>
    <span class="n">InputWorkspaces</span><span class="o">=</span><span class="s1">&#39;ws1,ws2&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">({</span>
    <span class="s1">&#39;data1&#39;</span><span class="p">:</span><span class="n">data_array1</span><span class="p">,</span>
    <span class="s1">&#39;data2&#39;</span><span class="p">:</span><span class="n">data_array2</span><span class="p">})</span>
</pre></div>
</div>
</div>
<p>This requires aligned dimensions (matching coordinates) in all input arrays. Use a Python <code class="docutils literal notranslate"><span class="pre">dict</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code> for grouping unaligned data.</p>
</div>
<div class="section" id="Rebin-Workspace2D-into-Workspace2D">
<h4>Rebin <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code> into <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code><a class="headerlink" href="#Rebin-Workspace2D-into-Workspace2D" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Rebin</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;histo&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;histo&#39;</span><span class="p">,</span>
    <span class="n">Params</span><span class="o">=</span><span class="s1">&#39;0,100,20000&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;tof&#39;</span><span class="p">],</span>
    <span class="n">values</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">20000.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span>
    <span class="n">unit</span><span class="o">=</span><span class="n">sc</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">us</span><span class="p">)</span>
<span class="n">histo</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">rebin</span><span class="p">(</span><span class="n">histo</span><span class="p">,</span> <span class="s1">&#39;tof&#39;</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Rebin-EventWorkspace-preserving-events">
<h4>Rebin <code class="docutils literal notranslate"><span class="pre">EventWorkspace</span></code> preserving events<a class="headerlink" href="#Rebin-EventWorkspace-preserving-events" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Rebin</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;events&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;events&#39;</span><span class="p">,</span>
    <span class="n">Params</span><span class="o">=</span><span class="s1">&#39;0,100,20000&#39;</span><span class="p">,</span>
    <span class="n">PreserveEvents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;tof&#39;</span><span class="p">],</span>
    <span class="n">values</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">20000.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span>
    <span class="n">unit</span><span class="o">=</span><span class="n">sc</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">us</span><span class="p">)</span>
<span class="n">events</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;tof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">edges</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Rebin-EventWorkspace-into-Workspace2D">
<h4>Rebin <code class="docutils literal notranslate"><span class="pre">EventWorkspace</span></code> into <code class="docutils literal notranslate"><span class="pre">Workspace2D</span></code><a class="headerlink" href="#Rebin-EventWorkspace-into-Workspace2D" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Rebin</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;events&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;histo&#39;</span><span class="p">,</span>
    <span class="n">Params</span><span class="o">=</span><span class="s1">&#39;0,100,20000&#39;</span><span class="p">,</span>
    <span class="n">PreserveEvents</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;tof&#39;</span><span class="p">],</span>
    <span class="n">values</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">20000.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span>
    <span class="n">unit</span><span class="o">=</span><span class="n">sc</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">us</span><span class="p">)</span>
<span class="n">histo</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">events</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Rebin-with-logarithmic-bins">
<h4>Rebin with logarithmic bins<a class="headerlink" href="#Rebin-with-logarithmic-bins" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Rebin</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;histo&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;histo&#39;</span><span class="p">,</span>
    <span class="n">Params</span><span class="o">=</span><span class="s1">&#39;2,-0.035,10&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">edges</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;tof&#39;</span><span class="p">],</span>
    <span class="n">values</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">stop</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">unit</span><span class="o">=</span><span class="n">sc</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">us</span><span class="p">)</span>
<span class="n">histo</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">rebin</span><span class="p">(</span><span class="n">histo</span><span class="p">,</span> <span class="s1">&#39;tof&#39;</span><span class="p">,</span> <span class="n">edges</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Bin edges in scipp can be created from an arbitrary array with increasing values, the use of <code class="docutils literal notranslate"><span class="pre">numpy.geomspace</span></code> is simply one example for generating bins spaced evenly on a log scale.</p>
</div>
<div class="section" id="Scale-(multiplication)">
<h4>Scale (multiplication)<a class="headerlink" href="#Scale-(multiplication)" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">Factor</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span>
    <span class="n">Operation</span><span class="o">=</span><span class="s2">&quot;Multiply&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">*=</span> <span class="mf">7.5</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Scale-(addition)">
<h4>Scale (addition)<a class="headerlink" href="#Scale-(addition)" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">Factor</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span>
    <span class="n">Operation</span><span class="o">=</span><span class="s2">&quot;Add&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">+=</span> <span class="mf">7.5</span>
</pre></div>
</div>
</div>
<p>If the data is not dimensionless, the correct unit must be specified:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span> <span class="o">+=</span> <span class="mf">7.5</span> <span class="o">*</span> <span class="n">sc</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">us</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ScaleX">
<h4>ScaleX<a class="headerlink" href="#ScaleX" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">ScaleX</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">Factor</span><span class="o">=</span><span class="mf">7.5</span><span class="p">,</span>
    <span class="n">Operation</span><span class="o">=</span><span class="s2">&quot;Multiply&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;tof&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">7.5</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="SumSpectra">
<h4>SumSpectra<a class="headerlink" href="#SumSpectra" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mantid</span><span class="o">.</span><span class="n">SumSpectra</span><span class="p">(</span>
    <span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;summed&#39;</span><span class="p">,</span>
    <span class="n">StartWorkspaceIndex</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
    <span class="n">EndWorkspaceIndex</span><span class="o">=</span><span class="mi">88</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">summed</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;spectrum&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span><span class="mi">89</span><span class="p">],</span> <span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="Neutron-scattering-specific-algorithms">
<h3>Neutron-scattering specific algorithms<a class="headerlink" href="#Neutron-scattering-specific-algorithms" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ConvertUnits">
<h4>ConvertUnits<a class="headerlink" href="#ConvertUnits" title="Permalink to this headline">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ConvertUnits</span><span class="p">(</span><span class="n">InputWorkspace</span><span class="o">=</span><span class="s1">&#39;tof&#39;</span><span class="p">,</span> <span class="n">OutputWorkspace</span><span class="o">=</span><span class="s1">&#39;dspacing&#39;</span><span class="p">,</span> <span class="n">Target</span><span class="o">=</span><span class="s1">&#39;dSpacing&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Equivalent in scipp:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dspacing</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">neutron</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">tof</span><span class="p">,</span> <span class="s1">&#39;tof&#39;</span><span class="p">,</span> <span class="s1">&#39;d-spacing&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Note that scipp has no equivalent to the <code class="docutils literal notranslate"><span class="pre">EMode</span></code> and <code class="docutils literal notranslate"><span class="pre">EFixed</span></code> settings of <code class="docutils literal notranslate"><span class="pre">ConvertUnits</span></code>. Instead, this information is read from the input data, if available (note that currently only elastic scattering is supported).</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="instrument-view.html" class="btn btn-neutral float-right" title="Instrument view" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../generated/scipp.neutron.diffraction.convert_with_calibration.html" class="btn btn-neutral float-left" title="scipp.neutron.diffraction.convert_with_calibration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 Scipp contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>